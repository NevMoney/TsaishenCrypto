var houseTokenInstance;
var marketplaceInstance;
var usersInstance;
var houseTokenAddress = "";
var tsaishenUsersAddress = "";
var marketplaceAddress = "";

//Executed when page finish loading
$(document).ready(async () => {

  // this allows the website to use the metamask account
  const accounts = await ethereum.enable();

  web3 = new Web3(ethereum);

  toWei = (amount) => web3.utils.toWei(String(amount));
  fromWei = (amount) => Number(web3.utils.fromWei(amount)).toFixed(4);

  ethereum.on("accountsChanged", (_accounts) => {
    console.log("Account Changed!", accounts[0]);
    user = web3.utils.toChecksumAddress(_accounts[0]);
  });

  // User will be the first item in the accounts array
  user = web3.utils.toChecksumAddress(accounts[0]);
});